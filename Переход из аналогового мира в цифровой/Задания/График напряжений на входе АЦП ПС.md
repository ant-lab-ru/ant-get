---
тема: Переход из аналогового мира в цифровой
автор: Иван Юрьевич Потылицын
дата: 2025-10-20
задание: false
---

## Результат

- [ ] При помощи скрипта можно визуализировать зависимость напряжения на пине **OUT** блока **8-bit DAC** платы [[Печатная плата get-dac|get-dac]] от времени
- [ ] В скрипте можно задавать:
    - [ ] Динамический диапазон ЦАП
    - [ ] Продолжительность измерений

> [!EXAMPLE] Пример
> 
> **Подключение осциллографа**
> 
> ![[8-bit-sc-adc-plot.png]]

## Подготовка

1. В папке **get-adc** вашего репозитория **get** создайте файл **adc_plot.py**, в котором вы опишете функцию для построения графика зависимости напряжения от времени
2. В той же папке создайте файл **r2r-sc.py**, в котором вы напишете скрипт, который измеряет напряжения и строит их график
 
## Инструкция к модулю adc_plot

1. Импортируйте модуль работы с графиками [[pyplot]] из библиотеки [[matplotlib]]
2. Объявите функцию **plot_voltage_vs_time(time, voltage, max_voltage)**, которая будет строить график зависимости напряжения от времени

```
def plot_voltage_vs_time(time, voltage, max_voltage):
```

3. В функции создайте окно для отображения графика

```
plt.figure(figsize=(10,6))
```

4. Разместите в этом окне график зависимости напряжений от времени

```
plt.plot(time, voltage)
```

5. Задайте название графика и осей
6. Задайте границы по осям X и Y
7. Включите отображение сетки
8. Отобразите график

```
plt.show()
```

## Инструкция к скрипту r2r-sc

1. Импортируйте модули работы с R2R АЦП, временем и модуль для построения графика
2. Создайте объект класса **R2R_ADC**
3. Создайте два списка:
    1. Для хранения напряжений
    2. Для хранения моментов времени от старта скрипта
4. Создайте переменную в которой будет задаваться продолжительность измерений

```
voltage_values = []
time_values = []
duration = 3.0
```

5. В блоке **try**
    1. Сохраните момент начала эксперимента
    2. Пока разница между текущим временем и начальным моментом меньше продолжительности эксперимента:
        1. Добавляйте в список измеренные значения напряжений
        2. Добавляйте в список моменты времени
    3. Отобразите график подготовленной функцией **plot_voltage_vs_time()**
6. В блоке **finally** вызовите деструктор класса
