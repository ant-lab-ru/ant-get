---
тема: Цифровой и аналоговый миры
автор: Иван Юрьевич Потылицын
дата: 2025-09-15
задание: false
---

## Результат

- [ ] Яркость свечения светодиода в блоке **Digital LED** линейно возрастает от нуля до максимума
- [ ] По достижению максимум яркость светодиода возвращается в ноль и продолжает линейно возрастать

> [!EXAMPLE] Пример
> 
![[pwm-led.gif]]

## Подготовка

1. В папке **get-led** создайте файл **pwm-led.py** и пишите в нём новый скрипт

## Инструкция

1. Импортируйте модули времени и работы с GPIO
2. Задайте режим [[GPIO.BCM]] обращения к GPIO пинам
3. Создайте переменную с номером GPIO-пина, который подключён к светодиоду
4. Настройте GPIO-пин, как [[цифровой выход]]
5. Создайте объект управления [[ШИМ-сигнал|ШИМ-сигналом]] на GPIO выходе, подключённому к светодиоду с частотой 200 Гц
6. Создайте переменную, которая будет хранить текущий коэффициент заполнения
7. Запустите генерацию ШИМ-сигнала на GPIO выходе

```
pwm = GPIO.PWM(led, 200)
duty = 0.0
pwm.start(duty)
```

8. В бесконечном цикле:
    1. Изменяйте коэффициент заполнения (ШИМ-сигнал генерируется непрерывно)
    2. Делайте паузу после установки коэффициента заполнения, чтобы он не нарастал молниеносно (Raspberry Pi очень быстро исполняет Python скрипты)
    3. Увеличивайте коэффициент заполнения на один шаг
    4. Если коэффициент заполнения превысил 100%, сбрасывайте его в ноль

```
while True:
    pwm.ChangeDutyCycle(duty)
    time.sleep(0.05)
    
    duty += 1.0
    if duty > 100.0:
        duty = 0.0
```

## Завершение задания

1. Добавьте рабочий скрипт **pwm-led.py** в репозиторий **get**, сделайте коммит и отправьте изменения на сервер
