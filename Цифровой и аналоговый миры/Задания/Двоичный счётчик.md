---
тема: Цифровой и аналоговый миры
автор: Иван Юрьевич Потылицын
дата: 2025-09-15
задание: false
---

## Результат

- [ ] По нажатию кнопки со стрелкой вверх [[Двоичная система счисления|двоичное число]] в блоке **8-bit Counter** увеличивается на единицу
- [ ] По нажатию кнопки со стрелкой вниз [[Двоичная система счисления|двоичное число]] в блоке **8-bit Counter** уменьшается на единицу
- [ ] При выходе числа за пределы одного байта число приравнивается к нулю

> [!EXAMPLE] Пример
> 
![[bin-counter.gif]]

## Подготовка

1. В папке **get-led** создайте файл **bin-counter.py** и пишите в нём новый скрипт

## Инструкция

1. Импортируйте модули времени и работы с GPIO
2. Задайте режим [[GPIO.BCM]] обращения к GPIO пинам
3. Создайте переменную со списком GPIO-пинов, подключённых к светодиодам в блоке **8-bit Counter**

> [!WARNING] Внимание!
> В шелкографии на [[Печатная плата get-led|печатной плате get-led]] ошибка.
> 
> **bit6** в блоке **8-bit Counter**  подключён к **GPIO12**.

```
leds = [16, 12, 25, 17, 27, 23, 22, 24]
```

> [!WARNING] Внимание!
> Для корректной работы двоичного счётчика номер светодиода, соответствующего **старшему биту** должен быть указан в **начале списка**. Номер светодиода, соответствующего **младшему биту** должен быть указан в **конце списка**. 

5. Настройте все GPIO-пины в списке
6. Погасите все светодиоды в блоке **8-bit Counter**
7. Настройте GPIO-пины для кнопок со стрелками **вверх** и **вниз**
8. Создайте переменную для хранения текущего числа

```
num = 0
```

9. Объявите функцию, которая будет переводить десятичное число в список нулей и единиц

```
def dec2bin(value):
    return [int(element) for element in bin(value)[2:].zfill(8)]
```

9. Создайте переменную, которая будет хранить время паузы после нажатия кнопки

```
sleep_time = 0.2
```

10. В бесконечном цикле:
    1. Если прочитанное с кнопки **вверх** значение больше нуля:
        1. Увеличьте число
        2. Распечатайте число и его двоичное представление в терминале
        3. Сделайте паузу после нажатия кнопки

```
if GPIO.input(up):
    num = num + 1
    print(num, dec2bin(num))
    time.sleep(sleep_time)
```
.
    2. Если прочитанное с кнопки **вниз** значение больше нуля:
        1. Сделайте почти тоже самое
    3. Реализуйте защиту от чисел меньше нуля и больше максимума
    4. Выведете сразу на все светодиоды двоичное представление текущего числа, список из 0 и 1 длиной 8 элементов, который возвращает функция **dec2bin()**

```
GPIO.output(leds, dec2bin(num))
```

## Завершение задания

1. Добавьте рабочий скрипт **bin-counter.py** в репозиторий **get**, сделайте коммит и отправьте изменения на сервер
